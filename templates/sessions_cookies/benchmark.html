{% extends 'sessions_cookies/base.html' %}
{% block content %}
<div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
        <h4 class="mb-0">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è ORM</h4>
    </div>
    <div class="card-body">
        <p>–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ (N+1 –ø—Ä–æ—Ç–∏ select_related).</p>

        <div class="alert alert-success text-center shadow-sm">
            üöÄ –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –∑–∞–ø–∏—Ç –ø—Ä–∞—Ü—é—î —É
            <strong class="fs-4">{{ speedup|floatformat:1 }}</strong>
            —Ä–∞–∑—ñ–≤ —à–≤–∏–¥—à–µ!
        </div>
        <table class="table table-striped table-hover mt-3">
            <thead class="table-dark">
                <tr>
                    <th>–¢–∏–ø –∑–∞–ø–∏—Ç—É</th>
                    <th>–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è</th>
                    <th>–ß–∞—Å (—Å–µ–∫)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>üî¥ –ü–æ–≥–∞–Ω–∏–π</td>
                    <td>N+1 Problem</td>
                    <td>{{ time_bad|floatformat:5 }}</td>
                </tr>
                <tr>
                    <td>üü¢ –•–æ—Ä–æ—à–∏–π</td>
                    <td><code>select_related</code></td>
                    <td class="fw-bold text-success">{{ time_good|floatformat:5 }}</td>
                </tr>
            </tbody>
        </table>

        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3">
             <a href="{% url 'benchmark' %}" class="btn btn-outline-primary btn-sm">üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç</a>
        </div>
    </div>
</div>
{% endblock %}